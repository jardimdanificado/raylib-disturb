// Phase 3 smoke: audio init/ready/close path.

shim_path = read("disturb_bindings/shim_path_phase3.bin");
if (shim_path == null) {
  shim_path = "./libraylib_disturb_phase3.so";
}

raylib_phase3 = ffi.load(shim_path,
  "void* rl2_InitAudioDevice()",
  "i32 rl2_IsAudioDeviceReady()",
  "void* rl2_SetMasterVolume(f32)",
  "void* rl2_CloseAudioDevice()"
);

raylib_phase3.rl2_InitAudioDevice();
ready = raylib_phase3.rl2_IsAudioDeviceReady();
println("phase3 smoke_audio IsAudioDeviceReady=" + ready);
if (ready != 0) {
  raylib_phase3.rl2_SetMasterVolume(0.5);
}
raylib_phase3.rl2_CloseAudioDevice();
println("phase3 smoke_audio finished");
