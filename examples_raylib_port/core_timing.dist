// raylib [core] example - timing counters (Disturb port)

eval(read("examples_raylib_port/common.dist"));
name = "core_timing";
if (port_has_display() == 0) {
  cv = beginOffscreenColor(180, 100, PORT_RAYWHITE);
  t = raylib_phase3.rl2_GetTime();
  offscreenDrawText(cv, "t=" + t, 8, 30, 10, PORT_DARKGRAY);
  if (assertPixelNotEquals(name, cv, 10, 32, PORT_RAYWHITE) == 1) {
    port_pass_headless(name);
  }
}
else {
  port_window_begin(640, 360, "raylib core: timing");
  frame = 0;
  while (raylib_phase3.rl2_WindowShouldClose() == 0 && frame < 180) {
    frame = frame + 1;
    t = raylib_phase3.rl2_GetTime();
    dt = raylib_phase3.rl2_GetFrameTime();
    raylib_phase3.rl2_BeginDrawing();
    raylib_phase3.rl2_ClearBackground(PORT_RAYWHITE);
    raylib_phase3.rl2_DrawText("time = " + t, 20, 120, 24, PORT_DARKGRAY);
    raylib_phase3.rl2_DrawText("dt = " + dt, 20, 160, 24, PORT_DARKGRAY);
    raylib_phase3.rl2_EndDrawing();
  }
  port_window_end();
  port_pass_windowed(name);
}
