// raylib [textures] example - source/destination rectangles (Disturb port)
// Source: textures/textures_srcrec_dstrec.c

eval(read("examples_raylib_port/common.dist"));
name = "textures_srcrec_dstrec";
if (port_has_display() == 0) {
  port_skip(name, "headless environment");
}
else if (port_has_asset("assets/test.png") == 0) {
  port_skip(name, "missing asset assets/test.png");
}
else {
  port_window_begin(800, 450, "raylib textures: srcrec dstrec");
  tex = raylib_phase3.rl2_LoadTexture("assets/test.png");
  rot = 0.0;
  frame = 0;
  while (raylib_phase3.rl2_WindowShouldClose() == 0 && frame < 120) {
    frame = frame + 1;
    rot = rot + 1.0;
    raylib_phase3.rl2_BeginDrawing();
    raylib_phase3.rl2_ClearBackground(PORT_RAYWHITE);
    raylib_phase3.rl2_DrawTextureRec(tex, 0.0, 0.0, 128.0, 128.0, 220.0, 160.0, PORT_WHITE);
    raylib_phase3.rl2_DrawTextureEx(tex, 460.0, 160.0, rot, 1.0, PORT_WHITE);
    raylib_phase3.rl2_EndDrawing();
  }
  raylib_phase3.rl2_UnloadTexture(tex);
  port_window_end();
  port_pass(name);
}
