// User-facing camera2d example using disturb_bindings/raylib.dist
// Note: current API uses a placeholder camera handle (null camera).

eval(read("disturb_bindings/raylib.dist"));

if (hasDisplay() == 0) {
  println("SKIP camera2d: headless environment");
}
else {
  initWindow(800, 450, "raylib.dist camera2d");
  setTargetFPS(60);

  cam = 0;
  mat = getCameraMatrix2D(cam);

  frame = 0;
  while (windowShouldClose() == 0 && frame < 120) {
    frame = frame + 1;

    beginDrawing();
    clearBackground(COLOR_RAYWHITE);
    beginMode2D(cam);
    drawRectangle(-500, 240, 1000, 200, COLOR_LIGHTGRAY);
    drawRectangle(-20, 190, 40, 40, COLOR_RED);
    drawLine(-500, 220, 500, 220, COLOR_DARKGRAY);
    endMode2D();
    if (mat.ok == 1) {
      drawText("camera matrix ok", 20, 20, 20, COLOR_DARKGRAY);
    }
    else {
      drawText("camera matrix unavailable", 20, 20, 20, COLOR_MAROON);
    }
    endDrawing();
  }

  closeWindow();
  println("PASS camera2d");
}
