// User-facing hello window example using disturb_bindings/raylib.dist

eval(read("disturb_bindings/raylib.dist"));

fail = (msg){ println("FAIL hello_window: " + msg); system("kill -TERM $PPID"); };

if (hasDisplay() == 0) {
  println("SKIP hello_window: headless environment");
}
else {
  initWindow(640, 360, "raylib.dist hello window");
  setTargetFPS(60);

  frame = 0;
  while (windowShouldClose() == 0 && frame < 120) {
    frame = frame + 1;
    beginDrawing();
    clearBackground(COLOR_RAYWHITE);
    drawText("Hello from raylib.dist", 170, 160, 28, COLOR_DARKGRAY);
    endDrawing();
  }

  closeWindow();
  if (frame > 0) { println("PASS hello_window"); }
  else { fail("no frames rendered"); }
}
